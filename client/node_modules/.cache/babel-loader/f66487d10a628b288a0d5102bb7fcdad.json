{"ast":null,"code":"var _jsxFileName = \"/Users/alexanderkim/Documents/Repositories/field-agent-security/client/src/components/DeleteFieldAgent.js\",\n    _s = $RefreshSig$();\n\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useContext, useEffect, useState } from 'react';\nimport AuthContext from '../AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction DeleteFieldAgent() {\n  _s();\n\n  const [firstName, setFirstName] = useState('');\n  const [middleName, setMiddleName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [dob, setDob] = useState(null);\n  const [heightInInches, setHeightInInches] = useState(0);\n  const [init, setInit] = useState(false);\n  const history = useHistory();\n  const {\n    id\n  } = useParams();\n  const authManager = useContext(AuthContext);\n  useEffect(() => {\n    fetch(`http://localhost:8080/api/agent/${id}`).then(response => {\n      if (response.status === 200) {\n        return response.json();\n      }\n\n      if (response.status === 404) {\n        history.replace('/not-found');\n        return null;\n      }\n\n      return Promise.reject('Something went wrong on the server :)');\n    }).then(body => {\n      if (body) {\n        setInit(true);\n        setFirstName(body.firstName);\n        setMiddleName(body.middleName);\n        setLastName(body.lastName);\n        setDob(body.dob);\n        setHeightInInches(body.heightInInches);\n      }\n    }).catch(err => console.error(err));\n  }, []);\n\n  const handleSubmit = () => {\n    const init = {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt_token')}`\n      }\n    };\n    fetch(`http://localhost:8080/api/agent/${id}`, init).then(response => {\n      if (response.status === 204) {\n        history.push('/agent');\n        return;\n      } else if (response.status === 403) {\n        authManager.logout();\n        history.push('/login');\n      }\n\n      return Promise.reject('Something went wrong :)');\n    }).catch(err => console.error(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: init ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"FieldAgent Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-warning\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Are you sure you want to delete this todo?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"FieldAgent: \", firstName + \" \" + middleName + \" \" + lastName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Date of Birth: \", dob]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Height in Inches: \", heightInInches]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"button\",\n        onClick: handleSubmit,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        type: \"button\",\n        onClick: () => history.push('/todo'),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true) : null\n  }, void 0, false);\n}\n\n_s(DeleteFieldAgent, \"Zq/qwx0sWqAb2/50SNihebD7nwU=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = DeleteFieldAgent;\nexport default DeleteFieldAgent;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteFieldAgent\");","map":{"version":3,"sources":["/Users/alexanderkim/Documents/Repositories/field-agent-security/client/src/components/DeleteFieldAgent.js"],"names":["useHistory","useParams","useContext","useEffect","useState","AuthContext","DeleteFieldAgent","firstName","setFirstName","middleName","setMiddleName","lastName","setLastName","dob","setDob","heightInInches","setHeightInInches","init","setInit","history","id","authManager","fetch","then","response","status","json","replace","Promise","reject","body","catch","err","console","error","handleSubmit","method","headers","Authorization","localStorage","getItem","push","logout"],"mappings":"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","sourcesContent":["import { useHistory, useParams } from 'react-router-dom';\nimport { useContext, useEffect, useState } from 'react';\nimport AuthContext from '../AuthContext';\n\nfunction DeleteFieldAgent() {\n\n  const [firstName, setFirstName] = useState('');\n  const [middleName, setMiddleName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [dob, setDob] = useState(null);\n  const [heightInInches, setHeightInInches] = useState(0);\n  const [init, setInit] = useState(false);\n\n  const history = useHistory();\n  const { id } = useParams();\n  const authManager = useContext(AuthContext);\n\n  useEffect(() => {\n    fetch(`http://localhost:8080/api/agent/${id}`)\n      .then(response => {\n        if (response.status === 200) {\n          return response.json();\n        }\n\n        if (response.status === 404) {\n          history.replace('/not-found');\n          return null;\n        }\n\n        return Promise.reject('Something went wrong on the server :)');\n      })\n      .then(body => {\n        if (body) {\n          setInit(true);\n          setFirstName(body.firstName);\n          setMiddleName(body.middleName);\n          setLastName(body.lastName);\n          setDob(body.dob);\n          setHeightInInches(body.heightInInches);\n        }\n      })\n      .catch(err => console.error(err));\n  }, []);\n\n  const handleSubmit = () => {\n\n    const init = {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt_token')}`\n      }\n    }\n    \n    fetch(`http://localhost:8080/api/agent/${id}`, init)\n      .then(response => {\n        if (response.status === 204) {\n          history.push('/agent');\n          return;\n        } else if (response.status === 403) {\n          authManager.logout();\n          history.push('/login');\n        }\n\n        return Promise.reject('Something went wrong :)');\n      })\n      .catch(err => console.error(err));\n  }\n\n  return (\n    <>\n      {init ? (<>\n        <h2>FieldAgent Delete</h2>\n        <div className=\"alert alert-warning\">\n          <div>Are you sure you want to delete this todo?</div>\n          <div>FieldAgent: {firstName + \" \" + middleName + \" \" + lastName}</div>\n          <div>Date of Birth: {dob}</div>\n          <div>Height in Inches: {heightInInches}</div>\n        </div>\n        <button className=\"btn btn-primary\" type=\"button\" onClick={handleSubmit}>Delete</button>\n        &nbsp;\n        <button className=\"btn btn-secondary\" type=\"button\" onClick={() => history.push('/todo')}>Cancel</button>\n      </>) : null}\n    </>\n  );\n\n\n}\n\nexport default DeleteFieldAgent;"]},"metadata":{},"sourceType":"module"}